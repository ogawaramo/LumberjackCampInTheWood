# PRD：森のきこりキャンプ（VRChatワールド）

## 0. 概要

* **プロダクト名（仮）**：森のきこりキャンプ

* **プラットフォーム**：VRChat（PC / Quest対応）

* **技術スタック**：

  * Unity（VRChat推奨バージョンに追従）
  * VRChat Creator Companion を用いた World プロジェクト ([vcc.docs.vrchat.com][1])
  * SDK3（Udon / UdonSharp）によるゲームロジック ([creators.vrchat.com][2])
  * Persistence（PlayerData / PlayerObject）を用いた成長・コレクション保存 ([creators.vrchat.com][3])

* **コンセプト**：
  Valheim の木こり作業の気持ちよさと、
  Palia や cozy MMO の“まったりライフスキル成長”、
  Deep Rock Galactic の“協力作業＋コスメや称号で見せびらかす楽しさ”をミックスした
  **「作業しながら会話を楽しむきこりCOOPワールド」**。([valheim.fandom.com][4])

---

## 1. プロダクトゴール

### 1.1 体験ゴール

1. **まったり共作業**

   * 木を切る、丸太を運ぶ、キャンプを育てるといった単純作業を複数人で行いながら、会話が自然と弾む。

2. **継続プレイのモチベーション**

   * ログインするたびにライフスキルやコイン、コスメ・称号などの**“自分の成長”**を感じられる。

3. **ワールド内での「自分らしさ」表現**

   * 斧スキン、作業服、トロフィー棚、個人キャンプなどで、やり込み度やセンスを**見せびらかして自慢できる**。

### 1.2 KPI / 成功指標（目安）

* メトリクス（ざっくりの方向性）

  * 平均滞在時間：20〜40分/訪問
  * リピート率：1週間以内の再訪 30%以上
  * 同時接続：1インスタンス平均 4〜12人

---

## 2. ターゲットユーザー

* **Valheim / Minecraft / Terraria** などの「採集＋クラフト」が好きな人 ([valheim.fandom.com][4])
* **Palia のようなライフスキル系・cozy MMO**が好きで、戦闘ではなく生活系コンテンツを楽しみたい人 ([VICE][5])
* ガチの対戦ではなく、**だらっとVCで喋りながら何か作業したいVRChatユーザー**

---

## 3. マップ・レベルデザイン

### 3.1 全体構成

1. **中央キャンプエリア（HUB / 会話ゾーン）**

   * 大きな焚き火
   * 丸太ベンチ（複数）
   * 基本の作業台・切断台・倉庫
   * クエストボード
   * ランキングボード
   * コイン交換所（きこりギルド）
   * 栄誉棚（実績トロフィー）
   * 撮影スポット（丸太ステージ＋ライト）

2. **手前の森（初級伐採エリア）**

   * 通常の木がまばらに配置
   * 敵や危険要素なし
   * 伐採初心者向けチュートリアルとして利用

3. **奥の森（中級〜上級エリア）**

   * **Camp Rank 一定以上で解放**
   * 太い木・レア木材が出現
   * 斜面なども活かして、「倒木が他の木を巻き込む」Valheim風の気持ちいい連鎖伐採風演出。([valheim.fandom.com][4])

4. **川 / 丸太流しエリア（拡張候補）**

   * 丸太を投げると下流の堰で自動回収されるミニゲーム的動線

### 3.2 サイズ・パフォーマンス

* インスタンスあたりパフォーマンスを考慮し、**1シーン内で完結する中規模マップ**。
* Quest 対応のため、木や草などのメッシュ・マテリアルは LOD / Batching / Lightmap を意識して最適化（VRChat公式の最適化ガイドラインに準拠）。([creators.vrchat.com][6])

---

## 4. コアゲームループ

1. 森へ行き、**木を斧で伐採**
2. 倒れた木をさらに叩いて**丸太・枝を獲得**
3. 丸太を協力して**キャンプまで運搬**
4. 作業台や製材所で**資材に加工**
5. 資材を使って**キャンプ施設・装飾をクラフト**
6. この作業を通じて

   * 個人：ライフスキルレベルUP・通貨獲得・コスメ解放
   * キャンプ：Camp Rankアップ・エリア解放・設備強化
7. 一段落したら焚き火で**まったり雑談＆撮影**

---

## 5. 詳細システム仕様

### 5.1 木こり（伐採）システム

**インタラクションフロー**

1. プレイヤーが伐採可能な木に近づき、斧を「持つ」 or トリガーで斧スイングアクション
2. 当たり判定が木のコライダーにヒットした場合、木のHPを減少
3. HPが0になると倒木状態に遷移し、指定方向へ倒れる

**倒れる方向**

* Valheim の仕様を参考に、**最後の一撃時のプレイヤーの向き方向**に倒す ([valheim.fandom.com][4])
* 完全な物理シミュではなく、アニメーション or 補間移動で実装し、負荷と同期を低減

**木の状態遷移**

* `StandingTree`（立木）

  * HP：木の種類ごとに設定
  * 斧ヒットでHP減少
  * HP0 → `FallenTree`へ
* `FallenTree`（倒木）

  * 見た目：横たわった木モデル
  * 斧ヒットで「丸太」オブジェクトをスポーン（複数本）
* `LogItem`（丸太アイテム）

  * プレイヤーが掴める資源オブジェクト

**マルチプレイ仕様**

* 同じ木に対するダメージはUdonSyncedで共有
* 一定時間内に2人以上が同じ木を叩くと「協力伐採ボーナス」

  * 木のHP減少量+α
  * 関与プレイヤー全員に追加XP

### 5.2 運搬システム

**丸太タイプ**

* 小丸太（Normal Log）

  * 1人で運搬可
  * 持っている間、移動速度 -10〜-20%
* 太丸太（Heavy Log）

  * 1人だとほとんど動かせない
  * 2人以上が同時に「持ち手ポイント」を掴むと運搬可能
  * 運搬速度は人数に応じて変動（2人：基準速度、3人以上：やや早い）

**技術ポイント**

* 丸太ごとに複数の `VRC_Pickup` or プレイヤー追従ハンドルを設ける
* 任意の2人以上が掴んだ場合に「丸太の位置を中間点にセット」し、入力方向にのみ動かす簡易同期方式にする

### 5.3 加工・クラフトシステム

**設備**

1. **切断台（ソーホース）**

   * 丸太を載せてボタン押下 → 数秒後に板材や小丸太に変換
   * 変換レシピ例：

     * 小丸太1本 → 枝2本
     * 丸太1本 → 板材2枚
2. **製材所（Camp Rankアップで解放）**

   * 太丸太を大量に板材へ変換
   * 処理時間長め（放置→会話タイム）

**クラフト**

* 板材などの資材を使用して、キャンプの設備・装飾をクラフト
* 設置は predefined の**建築ポイント**をクリックして行う（自由配置ではなく、軽量なハウジング）

---

## 6. 成長システム

### 6.1 個人ライフスキル

Paliaのライフスキル方式を参考に、「行動→そのスキルXPが上昇」するシンプルな形。([PC Gamer][7])

**スキル一覧（例）**

1. **Woodcutting（伐採）**
2. **Carrying（運搬）**
3. **Crafting（クラフト）**

**レベル設計**

* 各スキルLv1〜20
* 必要XPは徐々に増加
* レベルアップごとにパッシブ効果上昇

**スキル毎の効果例**

* Woodcutting

  * 伐採ダメージ +◯%
  * 倒木時の丸太数+1（高レベル）
  * Lv6〜で分岐：

    * パワー派：ダメージ重視
    * サポート派：協力伐採ボーナス増加
* Carrying

  * 丸太運搬中の移動速度ペナルティ軽減
  * 重量制限緩和（太丸太を1人で少し動かせる等）
* Crafting

  * 必要素材-◯%
  * クラフト時に副産物（木片）を追加で得る → 通貨に変換用

**保存**

* Persistence の PlayerData で、ユーザーごとのスキルLv・XPを保存 ([creators.vrchat.com][8])

### 6.2 Camp Rank（拠点ランク）

* インスタンス共有の**キャンプレベル**

* 木材納品 / クエスト達成 / 建築などで Camp XP が溜まる

* Rank Upごとに：

  * 奥の森・新エリア開放
  * 新クラフトレシピ解放
  * キャンプのビジュアル変化（旗・照明・装飾）

* Camp Rank はインスタンス単位。Persistenceで**世界共通にはしない（v1想定）**
  → 来るたびに「今日のキャンプ」をみんなで育てる遊び方。

---

## 7. 通貨・交換・コレクション

### 7.1 通貨

**1) きこりコイン（個人通貨）**

* 行動（伐採・運搬・クラフト・クエスト）で少しずつ獲得
* PlayerDataで保存し、インスタンスを跨いで有効 ([creators.vrchat.com][8])
* 用途：コスメ購入、個人キャンプ家具購入など

**2) キャンプ木材ポイント（拠点通貨）**

* 資材納品やキャンプ建築で溜まるインスタンス専用ポイント
* Camp Rank上昇や、インスタンス限定装飾の購入に使用

### 7.2 交換所（ショップ）

**位置**：キャンプ内「きこりギルドテント」

**ラインナップ（例）**

* 斧スキン

  * 木製 → 鉄 → 黒鋼 → 装飾入り
* 頭装備

  * 木こり帽、ヘルメット、動物耳ニット帽
* 背中装備

  * 丸太リュック、木箱バックパック
* アニメーション

  * 丸太掲げポーズ、斧を肩に担ぐポーズ

Deep Rock Galactic のコスメティックツリーのように、純粋に見た目強化が中心。([Reddit][9])

---

## 8. 実績・ランキング・見せびらかし

### 8.1 実績システム

**実績例**

* 「きこり見習い」：木を100本伐採
* 「森の守護者」：木を1000本伐採
* 「運搬職人」：太丸太協力運搬100回
* 「キャンプ建築士」：建築ポイントを10ヶ所以上完成させる

**報酬**

* 称号テキスト（ネームプレートに付与）
* トロフィーオブジェクト（栄誉棚に表示）
* 限定斧スキン or カラーバリエーション

**保存**

* PlayerDataに実績フラグ＋解放済アイテムを保存 ([creators.vrchat.com][8])

### 8.2 栄誉棚（トロフィーウォール）

* キャンプ内の壁一面に「プレイヤー別プレート」の列を並べるイメージ
* 自分がいると、自分のプレート列が必ず見えるようUI調整
* 各実績に対応したトロフィーモデルを自動配置

### 8.3 ランキングボード

**デイリー（インスタンス内）**

* 「今日の伐採本数TOP3」
* 「今日の運搬距離TOP3」
* 上位プレイヤーにインスタンス限定の光るオーラや称号（性能差なし）

**生涯記録（後期拡張候補）**

* 全インスタンス横断のグローバルランキングは、Persistence容量や実装コストを見て検討。
  初期はインスタンス内ランキングのみ。

---

## 9. コミュニケーション支援

### 9.1 サウンドデザイン

* キャンプエリア：

  * BGM小さめ、環境音控えめ → 会話しやすさ重視
* 森エリア：

  * 鳥の声・風音など自然音やや強め
  * 伐採音は気持ちいいが耳障りにならない音量で調整

### 9.2 ステータス表示アイコン

* 頭上に小さなアイコンを表示（UI）

  * 斧：伐採中
  * 箱：運搬中
  * ハンマー：クラフト中
* ボイスなしでも、他プレイヤーの活動が分かる

### 9.3 撮影スポット

* 丸太ステージ

  * 上に乗るとライトON・背景ボケなど演出変更
  * 背景ボードに「今日のキャンプ実績（伐採本数など）」表示

---

## 10. 個人キャンプ（拡張要素）

Palia のハウジングや、他のcozy MMOのパーソナルスペースを参考にした軽量版。([Reddit][10])

### 10.1 個人区画

* メインキャンプからポータルで移動
* 小さな敷地に、購入した家具や飾りを配置できる
* 配置情報は PlayerData に保存

### 10.2 訪問機能

* デフォルトは自分のみ
* 訪問許可ONにすると、同インスタンスのプレイヤーが入場可能
* 来場者数に応じて小ボーナス（きこりコイン少量など）

---

## 11. 技術要件・制約

### 11.1 VRChat SDK / Udon

* Udonはワールド内のロジック・同期・イベント処理に使用 ([creators.vrchat.com][2])

* PlayerData / PlayerObject によるPersistence利用：

  * スキルレベル
  * 所持コイン
  * 解放済コスメ
  * 実績状態
  * 個人キャンプの家具配置

* PlayerData はキー・値形式のデータベースで、数値や文字列、Vector/Color等を保存可能 ([creators.vrchat.com][8])

* PlayerObject + VRCEnablePersistence を利用すると、Synced変数を永続化できるが、容量制限などに注意 ([creators.vrchat.com][3])

### 11.2 ネットワーク・インスタンス

* プレイヤー上限：Max 20（推奨 4〜12）
* 同期オブジェクト：

  * 木の状態（立木 / 倒木 / 伐採済）
  * 丸太の位置（重要度に応じて同期頻度調整）
  * Camp Rank・Camp XP
* プレイヤー固有情報は基本的に同期不要（各自クライアントで描画）

---

## 12. UX / UI要件

### 12.1 HUD

* 最小限の表示に抑えて没入感を維持
* 画面左下あたり：

  * ライフスキル名＋Lv＋小さなXPバー（アクション時のみフェード表示）
* キャンプレベル：

  * キャンプ内の看板 or UIパネルで常時表示
* クエスト情報：

  * クエストボードを見たときだけ詳細表示
  * 進行バーはボード上に配置

### 12.2 チュートリアル

* 初回訪問のみ：

  * キャンプ中央に「案内看板」
  * 一連のステップをシンプルに表示：

    1. 斧を取る
    2. 手前の木を叩く
    3. 丸太を運ぶ
    4. 切断台に載せる
* チュートリアル進行に合わせて、軽くガイド矢印を表示する程度で、過度な説明は避ける

---

## 13. 開発優先度（MVP → 拡張）

### 13.1 MVP（v1）で実装すべき必須要素

1. **コア作業**

   * 木の伐採（立木→倒木→丸太）
   * 丸太運搬（小丸太・太丸太）
   * 切断台での基本加工
2. **成長**

   * ライフスキル（少なくともWoodcutting）
   * インスタンス共有 Camp Rank（Lv1〜数レベル）
3. **シンプル通貨＆ショップ**

   * きこりコイン基本獲得＆保存
   * コインで買える簡単な斧スキンや帽子
4. **実績＆栄誉棚（簡易）**

   * 2〜3種類の実績＋対応アイコン表示
5. **クエストボード**

   * 木材納品系のシンプルなタスク
6. **デイリーランキング（インスタンス内）**

   * 今日の伐採本数TOP3のみでもOK

### 13.2 拡張フェーズ（v1.1〜）

* ライフスキル分岐パッシブ
* 行商人イベント
* 個人キャンプ区画＋訪問機能
* グローバルチャレンジ（全インスタンス合算の伐採目標など）

---

## 14. リスク・注意点

* Persistenceのデータ容量制限
  → スキル・通貨・解放フラグの数を抑え、構造をシンプルに設計する必要あり ([VRChat][11])
* Questパフォーマンス
  → オブジェクト数・描画負荷・物理演算を極力抑える
* 同期負荷
  → 倒木演出はなるべくアニメーションベースで、物理挙動を簡略化

